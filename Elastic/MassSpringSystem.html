<!DOCTYPE HTML>
<html lang="en" class="sidebar-visible no-js light">
    <head>
        <!-- Book generated using mdBook -->
        <meta charset="UTF-8">
        <title>Mass Spring System - GAMES103</title>
        <!-- Custom HTML head -->
        <meta content="text/html; charset=utf-8" http-equiv="Content-Type">
        <meta name="description" content="The note of GAMES103">
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <meta name="theme-color" content="#ffffff" />

        <link rel="icon" href="../favicon.svg">
        <link rel="shortcut icon" href="../favicon.png">
        <link rel="stylesheet" href="../css/variables.css">
        <link rel="stylesheet" href="../css/general.css">
        <link rel="stylesheet" href="../css/chrome.css">
        <link rel="stylesheet" href="../css/print.css" media="print">
        <!-- Fonts -->
        <link rel="stylesheet" href="../FontAwesome/css/font-awesome.css">
        <link rel="stylesheet" href="../fonts/fonts.css">
        <!-- Highlight.js Stylesheets -->
        <link rel="stylesheet" href="../highlight.css">
        <link rel="stylesheet" href="../tomorrow-night.css">
        <link rel="stylesheet" href="../ayu-highlight.css">

        <!-- Custom theme stylesheets -->
        <link rel="stylesheet" href="../theme/pagetoc.css">
        <!-- MathJax -->
        <script async type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.1/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>
    </head>
    <body>
        <!-- Provide site root to javascript -->
        <script type="text/javascript">
            var path_to_root = "../";
            var default_theme = window.matchMedia("(prefers-color-scheme: dark)").matches ? "navy" : "light";
        </script>

        <!-- Work around some values being stored in localStorage wrapped in quotes -->
        <script type="text/javascript">
            try {
                var theme = localStorage.getItem('mdbook-theme');
                var sidebar = localStorage.getItem('mdbook-sidebar');

                if (theme.startsWith('"') && theme.endsWith('"')) {
                    localStorage.setItem('mdbook-theme', theme.slice(1, theme.length - 1));
                }

                if (sidebar.startsWith('"') && sidebar.endsWith('"')) {
                    localStorage.setItem('mdbook-sidebar', sidebar.slice(1, sidebar.length - 1));
                }
            } catch (e) { }
        </script>

        <!-- Set the theme before any content is loaded, prevents flash -->
        <script type="text/javascript">
            var theme;
            try { theme = localStorage.getItem('mdbook-theme'); } catch(e) { }
            if (theme === null || theme === undefined) { theme = default_theme; }
            var html = document.querySelector('html');
            html.classList.remove('no-js')
            html.classList.remove('light')
            html.classList.add(theme);
            html.classList.add('js');
        </script>

        <!-- Hide / unhide sidebar before it is displayed -->
        <script type="text/javascript">
            var html = document.querySelector('html');
            var sidebar = 'hidden';
            if (document.body.clientWidth >= 1080) {
                try { sidebar = localStorage.getItem('mdbook-sidebar'); } catch(e) { }
                sidebar = sidebar || 'visible';
            }
            html.classList.remove('sidebar-visible');
            html.classList.add("sidebar-" + sidebar);
        </script>

        <nav id="sidebar" class="sidebar" aria-label="Table of contents">
            <div class="sidebar-scrollbox">
                <ol class="chapter"><li class="chapter-item expanded "><a href="../index.html"><strong aria-hidden="true">1.</strong> Introduction</a></li><li class="chapter-item expanded affix "><li class="part-title">BackGround</li><li class="chapter-item expanded "><div><strong aria-hidden="true">2.</strong> æ•°å­¦åŸºç¡€</div></li><li><ol class="section"><li class="chapter-item expanded "><a href="../2_math_vector.html"><strong aria-hidden="true">2.1.</strong> Vector</a></li><li class="chapter-item expanded "><a href="../2_math_matrix.html"><strong aria-hidden="true">2.2.</strong> Matrix</a></li><li class="chapter-item expanded "><a href="../2_math_calculus.html"><strong aria-hidden="true">2.3.</strong> Tensor Calculus</a></li><li class="chapter-item expanded "><a href="../Math/LinearSolver.html"><strong aria-hidden="true">2.4.</strong> Linear Solver</a></li></ol></li><li class="chapter-item expanded "><div><strong aria-hidden="true">3.</strong> ç‰©ç†åŸºç¡€</div></li><li><ol class="section"><li class="chapter-item expanded "><a href="../Physics/Force.html"><strong aria-hidden="true">3.1.</strong> åŠ›</a></li><li class="chapter-item expanded "><a href="../Physics/Torque.html"><strong aria-hidden="true">3.2.</strong> åŠ›çŸ©</a></li><li class="chapter-item expanded "><a href="../Physics/Elasticity.html"><strong aria-hidden="true">3.3.</strong> ä¸‰ç»´å¼¹æ€§åŠ›å­¦</a></li><li class="chapter-item expanded "><a href="../Physics/Fluid.html"><strong aria-hidden="true">3.4.</strong> æµä½“åŠ›å­¦</a></li><li class="chapter-item expanded "><a href="../Physics/Stability.html"><strong aria-hidden="true">3.5.</strong> ç¨³å®šæ€§</a></li></ol></li><li class="chapter-item expanded "><div><strong aria-hidden="true">4.</strong> å›¾å½¢å­¦åŸºç¡€</div></li><li><ol class="section"><li class="chapter-item expanded "><a href="../Graphics/GraphicsPipeline.html"><strong aria-hidden="true">4.1.</strong> Graphics Pipeline</a></li><li class="chapter-item expanded "><a href="../Graphics/Optimize.html"><strong aria-hidden="true">4.2.</strong> éçº¿æ€§ä¼˜åŒ–ä¼˜åŒ–</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="../Graphics/NewtonRaphson.html"><strong aria-hidden="true">4.2.1.</strong> Newton-Raphson Method</a></li><li class="chapter-item expanded "><a href="../Graphics/GradientDescent.html"><strong aria-hidden="true">4.2.2.</strong> æ¢¯åº¦ä¸‹é™æ³•</a></li><li class="chapter-item expanded "><a href="../Graphics/Nonlinear_optimization.html"><strong aria-hidden="true">4.2.3.</strong> A unified descent framework</a></li></ol></li></ol></li><li class="chapter-item expanded "><li class="part-title">å•ä¸ªä»¿çœŸä»£ç†çš„ä»¿çœŸ</li><li class="chapter-item expanded "><div><strong aria-hidden="true">5.</strong> ç²’å­</div></li><li><ol class="section"><li class="chapter-item expanded "><a href="../Particle/Particle.html"><strong aria-hidden="true">5.1.</strong> ç²’å­</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="../Particle/SPHModel.html"><strong aria-hidden="true">5.1.1.</strong> SPH Model</a></li><li class="chapter-item expanded "><a href="../Particle/SPH_Fluids.html"><strong aria-hidden="true">5.1.2.</strong> SPHåº”ç”¨ - æ°´(ä¸å¯å‹)</a></li><li class="chapter-item expanded "><a href="../Particle/PCISPH.html"><strong aria-hidden="true">5.1.3.</strong> Predictive-Corrective SPH</a></li><li class="chapter-item expanded "><a href="../Particle/IISPH.html"><strong aria-hidden="true">5.1.4.</strong> Implicit Imcompressible SPH</a></li><li class="chapter-item expanded "><a href="../Particle/DFSPH.html"><strong aria-hidden="true">5.1.5.</strong> Divergenc-Fre SPH</a></li><li class="chapter-item expanded "><a href="../Particle/PBF.html"><strong aria-hidden="true">5.1.6.</strong> Positon Based Fluid (PBF)</a></li><li class="chapter-item expanded "><a href="../Particle/TemporalAdaptivity.html"><strong aria-hidden="true">5.1.7.</strong> æ—¶é—´è‡ªé€‚åº”</a></li><li class="chapter-item expanded "><a href="../Particle/SpatialAdaptivity.html"><strong aria-hidden="true">5.1.8.</strong> ç©ºé—´è‡ªé€‚åº”</a></li><li class="chapter-item expanded "><a href="../Particle/More.html"><strong aria-hidden="true">5.1.9.</strong> More</a></li></ol></li><li class="chapter-item expanded "><a href="../Particle/Rigid.html"><strong aria-hidden="true">5.2.</strong> åº”ç”¨åœºæ™¯ - åˆšä½“</a></li></ol></li><li class="chapter-item expanded "><div><strong aria-hidden="true">6.</strong> ä¸å¯å½¢å˜Mesh - åˆšä½“</div></li><li><ol class="section"><li class="chapter-item expanded "><a href="../Rigid/Attribution.html"><strong aria-hidden="true">6.1.</strong> åˆšä½“çš„å±æ€§</a></li><li class="chapter-item expanded "><a href="../Rigid/Force.html"><strong aria-hidden="true">6.2.</strong> åˆšä½“åŠ¨åŠ›å­¦</a></li></ol></li><li class="chapter-item expanded "><a href="../Elastic/Elastic.html"><strong aria-hidden="true">7.</strong> å¯å½¢å˜Mesh - å¼¹æ€§ä½“</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="../Elastic/Attribution.html"><strong aria-hidden="true">7.1.</strong> å¼¹æ€§ä½“çš„å±æ€§</a></li><li class="chapter-item expanded "><a href="../Elastic/MassSpringSystem.html" class="active"><strong aria-hidden="true">7.2.</strong> Mass Spring System</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="../5_cloth.html"><strong aria-hidden="true">7.2.1.</strong> åº”ç”¨åœºæ™¯ - å¸ƒæ–™</a></li><li class="chapter-item expanded "><a href="../5_cloth_bending_blcoking.html"><strong aria-hidden="true">7.2.2.</strong> Bending and Locking Issues</a></li></ol></li><li class="chapter-item expanded "><a href="../Elastic/PBD.html"><strong aria-hidden="true">7.3.</strong> ä½ç½®åŠ¨åŠ›å­¦ï¼ˆPosition Based Dynamics)</a></li><li class="chapter-item expanded "><a href="../Elastic/Projective_Dynamics.html"><strong aria-hidden="true">7.4.</strong> æŠ•å½±åŠ¨åŠ›å­¦ (Projective Dynamics)</a></li><li class="chapter-item expanded "><a href="../Elastic/ShapeMatching.html"><strong aria-hidden="true">7.5.</strong> Shape Matching</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="../6_constraints_strain.html"><strong aria-hidden="true">7.5.1.</strong> Strain Limiting</a></li><li class="chapter-item expanded "><a href="../6_constraints_summary.html"><strong aria-hidden="true">7.5.2.</strong> æ€»ç»“</a></li></ol></li><li class="chapter-item expanded "><a href="../Elastic/XPBD.html"><strong aria-hidden="true">7.6.</strong> XPBD</a></li><li class="chapter-item expanded "><a href="../Elastic/Stable.html"><strong aria-hidden="true">7.7.</strong> Stable Constrained Dynamics</a></li><li class="chapter-item expanded "><a href="../7_FEM_FEM.html"><strong aria-hidden="true">7.8.</strong> Linear Finite Element Method</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="../8_FEM2.html"><strong aria-hidden="true">7.8.1.</strong> 08-FEM2</a></li><li class="chapter-item expanded "><a href="../8_FEM2_Nonlinear_optimization.html"><strong aria-hidden="true">7.8.2.</strong> Nonlinear optimization</a></li><li class="chapter-item expanded "><a href="../7_FEM_FVM.html"><strong aria-hidden="true">7.8.3.</strong> FVM</a></li><li class="chapter-item expanded "><a href="../7_FEM_Hyperelastic.html"><strong aria-hidden="true">7.8.4.</strong> Hyperelastic Models</a></li><li class="chapter-item expanded "><a href="../7_FEM_summary.html"><strong aria-hidden="true">7.8.5.</strong> Summary</a></li></ol></li></ol></li><li class="chapter-item expanded "><div><strong aria-hidden="true">8.</strong> 2D Grid - æ°´</div></li><li><ol class="section"><li class="chapter-item expanded "><div><strong aria-hidden="true">8.1.</strong> é«˜åº¦åœºæ¨¡å‹</div></li><li><ol class="section"><li class="chapter-item expanded "><a href="../10_wave_height_feild.html"><strong aria-hidden="true">8.1.1.</strong> é«˜åº¦åœºæ¨¡å‹</a></li><li class="chapter-item expanded "><a href="../10_wave_volume.html"><strong aria-hidden="true">8.1.2.</strong> Volume Preservation</a></li><li class="chapter-item expanded "><a href="../10_wave_boundary.html"><strong aria-hidden="true">8.1.3.</strong> Boundary Conditions</a></li><li class="chapter-item expanded "><a href="../10_wave_summary.html"><strong aria-hidden="true">8.1.4.</strong> Summary</a></li></ol></li></ol></li><li class="chapter-item expanded "><div><strong aria-hidden="true">9.</strong> 3D Grid</div></li><li><ol class="section"><li class="chapter-item expanded "><a href="../11_EulerianFluids.html"><strong aria-hidden="true">9.1.</strong> æ¬§æ‹‰æ¨¡å‹</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="../11_EulerianFluids_Grid.html"><strong aria-hidden="true">9.1.1.</strong> A Grid Representation and Finite Differencing</a></li><li class="chapter-item expanded "><a href="../11_EulerianFluids_Staggered.html"><strong aria-hidden="true">9.1.2.</strong> Staggered Grid</a></li><li class="chapter-item expanded "><a href="../11_EulerianFluids_Incompressible.html"><strong aria-hidden="true">9.1.3.</strong> Incompressible, Viscous  Navier-Stokes Equations</a></li><li class="chapter-item expanded "><a href="../11_EulerianFluids_Air_Smoke.html"><strong aria-hidden="true">9.1.4.</strong> Air and Smoke</a></li><li class="chapter-item expanded "><a href="../11_EulerianFluids_Summary.html"><strong aria-hidden="true">9.1.5.</strong> Summary</a></li></ol></li></ol></li><li class="chapter-item expanded "><a href="../SDF.html"><strong aria-hidden="true">10.</strong> SDF</a></li><li class="chapter-item expanded affix "><li class="part-title">æ··åˆä»¿çœŸä»£ç†çš„ä»¿çœŸ</li><li class="chapter-item expanded "><a href="../ParticleGrid/ParticleGrid.html"><strong aria-hidden="true">11.</strong> ç²’å­ + Grid</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="../ParticleGrid/PIC.html"><strong aria-hidden="true">11.1.</strong> Particle in Cell</a></li><li class="chapter-item expanded "><a href="../ParticleGrid/FLIP.html"><strong aria-hidden="true">11.2.</strong> Fluid Implicit Particle</a></li><li class="chapter-item expanded "><a href="../ParticleGrid/MPM.html"><strong aria-hidden="true">11.3.</strong> Material Point Method</a></li><li class="chapter-item expanded "><a href="../ParticleGrid/MLS.html"><strong aria-hidden="true">11.4.</strong> MLS-MPM</a></li><li class="chapter-item expanded "><a href="../ParticleGrid/AIModel.html"><strong aria-hidden="true">11.5.</strong> AIæ–¹æ³•</a></li><li class="chapter-item expanded "><a href="../ParticleGrid/APIC.html"><strong aria-hidden="true">11.6.</strong> Affice PIC</a></li><li class="chapter-item expanded "><a href="../ParticleGrid/Models.html"><strong aria-hidden="true">11.7.</strong> Constitutive Models</a></li><li class="chapter-item expanded "><a href="../ParticleGrid/PolyPIC.html"><strong aria-hidden="true">11.8.</strong> PolyPIC</a></li><li class="chapter-item expanded "><a href="../ParticleGrid/More.html"><strong aria-hidden="true">11.9.</strong> More</a></li></ol></li><li class="chapter-item expanded "><li class="part-title">ä»¿çœŸä»£ç†ä¹‹é—´çš„ä½œç”¨</li><li class="chapter-item expanded "><a href="../ParticleSDF.html"><strong aria-hidden="true">12.</strong> ç²’å­ + SDF</a></li><li class="chapter-item expanded "><a href="../ParticleMesh.html"><strong aria-hidden="true">13.</strong> ç²’å­ + Mesh</a></li><li class="chapter-item expanded "><a href="../RigidSDF.html"><strong aria-hidden="true">14.</strong> åˆšä½“ + SDF</a></li><li class="chapter-item expanded "><a href="../RigidSystem/RigidSystem.html"><strong aria-hidden="true">15.</strong> åˆšä½“ç³»ç»Ÿ</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="../9_collision_detect.html"><strong aria-hidden="true">15.1.</strong> åˆšä½“çš„ç¢°æ’æ£€æµ‹ - Broad Phase</a></li><li class="chapter-item expanded "><a href="../9_collision_GJK.html"><strong aria-hidden="true">15.2.</strong> ç¦»æ•£ç›¸äº¤æ£€æµ‹ - GJK</a></li><li class="chapter-item expanded "><a href="../9_collision_detect_narrow.html"><strong aria-hidden="true">15.3.</strong> åˆšä½“çš„ç¢°æ’æ£€æµ‹ - Narrow Phase</a></li><li class="chapter-item expanded "><a href="../9_collision_response.html"><strong aria-hidden="true">15.4.</strong> Constrain Based åˆšä½“ç¢°æ’å“åº”</a></li><li class="chapter-item expanded "><a href="../Interior_Point_Methods.html"><strong aria-hidden="true">15.5.</strong> å†…ç‚¹æ³•</a></li><li class="chapter-item expanded "><a href="../Impact_Zone_Optimization.html"><strong aria-hidden="true">15.6.</strong> ä¼˜åŒ–æ³•</a></li><li class="chapter-item expanded "><a href="../Rigid_Impact_Zones.html"><strong aria-hidden="true">15.7.</strong> åˆšæ€§å†²å‡»åŒºåŸŸ</a></li><li class="chapter-item expanded "><a href="../RigidSystem/IPC.html"><strong aria-hidden="true">15.8.</strong> Incremental Potential Contact</a></li><li class="chapter-item expanded "><a href="../4_rigidcontact_supplementary.html"><strong aria-hidden="true">15.9.</strong> è¡¥å……</a></li></ol></li><li class="chapter-item expanded "><a href="../RigidSoft.html"><strong aria-hidden="true">16.</strong> åˆšä½“ + è½¯ä½“</a></li><li class="chapter-item expanded "><a href="../9_collision_untangling.html"><strong aria-hidden="true">17.</strong> Untangling Cloth</a></li><li class="chapter-item expanded "><a href="../RigidGrid.html"><strong aria-hidden="true">18.</strong> åˆšä½“ + Grid</a></li><li class="chapter-item expanded "><a href="../RigidParticleCoupling.html"><strong aria-hidden="true">19.</strong> åˆšä½“ + SPH</a></li></ol>
            </div>
            <div id="sidebar-resize-handle" class="sidebar-resize-handle"></div>
        </nav>

        <div id="page-wrapper" class="page-wrapper">

            <div class="page">
                <div id="menu-bar-hover-placeholder"></div>
                <div id="menu-bar" class="menu-bar sticky bordered">
                    <div class="left-buttons">
                        <button id="sidebar-toggle" class="icon-button" type="button" title="Toggle Table of Contents" aria-label="Toggle Table of Contents" aria-controls="sidebar">
                            <i class="fa fa-bars"></i>
                        </button>
                        <button id="theme-toggle" class="icon-button" type="button" title="Change theme" aria-label="Change theme" aria-haspopup="true" aria-expanded="false" aria-controls="theme-list">
                            <i class="fa fa-paint-brush"></i>
                        </button>
                        <ul id="theme-list" class="theme-popup" aria-label="Themes" role="menu">
                            <li role="none"><button role="menuitem" class="theme" id="light">Light (default)</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="rust">Rust</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="coal">Coal</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="navy">Navy</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="ayu">Ayu</button></li>
                        </ul>
                        <button id="search-toggle" class="icon-button" type="button" title="Search. (Shortkey: s)" aria-label="Toggle Searchbar" aria-expanded="false" aria-keyshortcuts="S" aria-controls="searchbar">
                            <i class="fa fa-search"></i>
                        </button>
                    </div>

                    <h1 class="menu-title">GAMES103</h1>

                    <div class="right-buttons">
                        <a href="../print.html" title="Print this book" aria-label="Print this book">
                            <i id="print-button" class="fa fa-print"></i>
                        </a>
                        <a href="https://github.com/CaterpillarStudyGroup/GAMES103_mdbook" title="Git repository" aria-label="Git repository">
                            <i id="git-repository-button" class="fa fa-github"></i>
                        </a>
                    </div>
                </div>

                <div id="search-wrapper" class="hidden">
                    <form id="searchbar-outer" class="searchbar-outer">
                        <input type="search" id="searchbar" name="searchbar" placeholder="Search this book ..." aria-controls="searchresults-outer" aria-describedby="searchresults-header">
                    </form>
                    <div id="searchresults-outer" class="searchresults-outer hidden">
                        <div id="searchresults-header" class="searchresults-header"></div>
                        <ul id="searchresults">
                        </ul>
                    </div>
                </div>
                <!-- Apply ARIA attributes after the sidebar and the sidebar toggle button are added to the DOM -->
                <script type="text/javascript">
                    document.getElementById('sidebar-toggle').setAttribute('aria-expanded', sidebar === 'visible');
                    document.getElementById('sidebar').setAttribute('aria-hidden', sidebar !== 'visible');
                    Array.from(document.querySelectorAll('#sidebar a')).forEach(function(link) {
                        link.setAttribute('tabIndex', sidebar === 'visible' ? 0 : -1);
                    });
                </script>

                <div id="content" class="content">
                    <main><div class="sidetoc"><nav class="pagetoc"></nav></div>
                        <p>P4</p>
<h1 id="å¼¹ç°§è´¨ç‚¹æ¨¡å‹"><a class="header" href="#å¼¹ç°§è´¨ç‚¹æ¨¡å‹">å¼¹ç°§è´¨ç‚¹æ¨¡å‹</a></h1>
<blockquote>
<p>âœ… æ•´ä½“æµç¨‹å°±åƒæ˜¯å¯¹ Mesh ä¸Šçš„æ¯ä¸ªé¡¶ç‚¹ç‹¬ç«‹åœ°è¿›è¡Œç²’å­ä»¿çœŸï¼Œåªæ˜¯åŠ›å˜å¾—å¤æ‚ï¼Œå› ä¸ºåœ¨ç²’å­ä¹‹é—´å¢åŠ äº†å¼¹ç°§ã€‚å½“å¼¹ç°§å‘ç”Ÿå½¢å˜ï¼Œå°±äº§ç”Ÿäº†å¼¹ç°§åŠ›ï¼ˆå†…åŠ›ï¼‰ã€‚<br />
âœ… é€šè¿‡åœ¨ç²’å­é—´æ„é€ å¼¹ç°§æ¥çº¦æŸ Mesh è¾¹é•¿å°½é‡ä¸å˜ã€‚é€šè¿‡æ„é€ ç½‘çŠ¶çš„å¼¹ç°§ç³»ç»Ÿæ¥ä¿è¯ Mesh é¢ç‰‡ä¸å‘ç”Ÿå½¢å˜ã€‚é€šè¿‡å¢åŠ å¯¹è§’é¡¶ç‚¹çš„å¼¹ç°§æ¥çº¦æŸ Mesh ä½“ç§¯ä¸Šçš„å½¢å˜ã€‚</p>
</blockquote>
<pre class="mermaid">---
title: å¼¹ç°§ç³»ç»Ÿ   
---
flowchart LR
    Current([&quot;å½“å‰çŠ¶æ€&quot;]) 
    Constrain[(&quot;çº¦æŸ&quot;)]
    Outter[(&quot;å¤–åŠ›&quot;)]
    Energy([&quot;èƒ½é‡&quot;]) 
    Force([&quot;å†…åŠ›&quot;]) 
    Next([&quot;ä¸‹ä¸€æ—¶åˆ»çŠ¶æ€&quot;]) 

    Constrain--&gt;Energy--&gt;Force
    Outter &amp; Force &amp; Current --&gt; Integrate --&gt; Next --&gt; Current
</pre>
<p>ç§¯åˆ†å¯ä»¥æ˜¯æ˜¾å¼ç§¯åˆ†æˆ–è€…éšå¼ç§¯åˆ†ã€‚å¦‚æœæ˜¯æ˜¾å¼ç§¯åˆ†ï¼Œç”±åŠ›å¾—åˆ°é€Ÿåº¦ï¼Œé€Ÿåº¦æ›´æ–°çŠ¶æ€ã€‚</p>
<pre class="mermaid">---
title: å¼¹ç°§ç³»ç»Ÿ - æ˜¾å¼ç§¯åˆ†   
---
flowchart LR
    Current([&quot;å½“å‰çŠ¶æ€&quot;]) 
    Constrain[(&quot;çº¦æŸ&quot;)]
    Outter[(&quot;å¤–åŠ›&quot;)]
    Energy([&quot;èƒ½é‡&quot;]) 
    Force([&quot;å†…åŠ›&quot;]) 
    Velocity([&quot;é€Ÿåº¦&quot;]) 
    Next([&quot;ä¸‹ä¸€æ—¶åˆ»çŠ¶æ€&quot;]) 

    Constrain--&gt;Energy--&gt;Force
    Outter &amp; Force --&gt; Velocity
    Velocity &amp; Current --&gt; Next
</pre>
<p>ä½†æ˜¾å¼ç§¯åˆ†å­˜åœ¨ä¸ç¨³å®šæ€§é—®é¢˜ï¼Œåœ¨å›¾å½¢å­¦ä¸­æ›´å¸¸ç”¨çš„æ˜¯éšå¼ç§¯åˆ†ã€‚</p>
<pre class="mermaid">---
title: å¼¹ç°§ç³»ç»Ÿ - éšå¼ç§¯åˆ†   
---
flowchart LR
    Current([&quot;å½“å‰çŠ¶æ€&quot;]) 
    Constrain[(&quot;çº¦æŸ&quot;)]
    Outter[(&quot;å¤–åŠ›&quot;)]
    Energy([&quot;åŠ¿èƒ½èƒ½é‡&quot;]) 
    Mometen([&quot;åŠ¨èƒ½èƒ½é‡&quot;]) 
    Target([&quot;ä¼˜åŒ–ç›®æ ‡&quot;])
    Velocity([&quot;é€Ÿåº¦&quot;]) 
    Next([&quot;ä¸‹ä¸€æ—¶åˆ»çŠ¶æ€&quot;]) 
    NextWoContrain([&quot;ä¸è€ƒè™‘çº¦æŸçš„ä¸‹ä¸€æ—¶åˆ»çŠ¶æ€&quot;])

    Outter --&gt; Velocity
    Velocity &amp; Current --&gt; NextWoContrain --&gt; Mometen
    Constrain--&gt;Energy 
    Energy &amp; Mometen --&gt; Target --&gt; Optimize --&gt; Next
</pre>
<blockquote>
<p>âœ… æœ¬èŠ‚è¯¾æ‰€è®²çš„å¥—è·¯ï¼šåˆ†æåŠ›/èƒ½é‡ â†’ éšå¼ç§¯åˆ† â†’ é€šè¿‡ä¼˜åŒ–è§£ç§¯åˆ† â†’ æ›´æ–°ï¼Œå¯¹å¼¹ç°§ç³»ç»Ÿã€æœ‰é™å…ƒã€å¼¹æ€§ä½“ç­‰å„ç§ç‰©ç†æ¨¡æ‹ŸåŒæ ·é€‚ç”¨ã€‚åŒºåˆ«åœ¨äºå¦‚ä½•æ„é€ èƒ½é‡å’Œè§£ä¼˜åŒ–é—®é¢˜ã€‚</p>
</blockquote>
<h2 id="æ„å»ºå¼¹ç°§ç³»ç»Ÿ"><a class="header" href="#æ„å»ºå¼¹ç°§ç³»ç»Ÿ">æ„å»ºå¼¹ç°§ç³»ç»Ÿ</a></h2>
<h3 id="an-ideal-spring--ä¸€ä¸ªç«¯ç‚¹"><a class="header" href="#an-ideal-spring--ä¸€ä¸ªç«¯ç‚¹">An Ideal Spring â€”â€” ä¸€ä¸ªç«¯ç‚¹</a></h3>
<p><img src="../assets/02-46.png" alt="" /></p>
<blockquote>
<p>âœ… Energyï¼šç‰©ç†ä¸Šçš„å¼¹æ€§åŠ¿èƒ½<br />
âœ… Forceï¼šç‰©ç†ä¸Šçš„åŠ›ï¼Œæ˜¯ Energy çš„ gradient çš„åæ–¹å‘; å…¬å¼åé¢æœ‰ä¸ª T,æ¥æºäºå‰é¢çš„\(\nabla \)ï¼Œç›´è§‚è§£é‡Šï¼Œå‰é¢æ˜¯åŠ›çš„å¤§å°ï¼Œåé¢æ˜¯åŠ›çš„æ–¹å‘ã€‚<br />
ğŸ” Choi and Ko. 2002. Stable But Responive Cloth. TOG (SIGGRAPH) --- ä»¥ä¸Šå…¬å¼æ¨å¯¼çš„è¯¦ç»†è¿‡ç¨‹</p>
</blockquote>
<h3 id="an-ideal-spring--ä¸¤ä¸ªç«¯ç‚¹"><a class="header" href="#an-ideal-spring--ä¸¤ä¸ªç«¯ç‚¹">An Ideal Spring â€”â€” ä¸¤ä¸ªç«¯ç‚¹</a></h3>
<p><img src="../assets/02-47-1.png" alt="" /></p>
<p>$$
\mathbf{f} _ i(\mathbf{x} )=âˆ’âˆ‡ _ i\mathbf{E} =âˆ’k(||\mathbf{x} _ iÂ âˆ’\mathbf{x} _ j||âˆ’L)\frac{\mathbf{x} _ iÂ âˆ’\mathbf{x} _ j}{||\mathbf{x} _ iÂ âˆ’\mathbf{x} _ jÂ ||} \\
\mathbf{f} _ j(\mathbf{x})=âˆ’âˆ‡ _ jE=âˆ’k (||\mathbf{x} _ jÂ âˆ’\mathbf{x} _ iÂ ||âˆ’L)\frac {\mathbf{x} _ jÂ âˆ’\mathbf{x} _ i}{||\mathbf{x} _ jÂ âˆ’\mathbf{x} _ i||}
$$</p>
<p>P5</p>
<h3 id="multiple-springs"><a class="header" href="#multiple-springs">Multiple Springs</a></h3>
<p>When there are many springs, the energies and the forces can be simply summed up.</p>
<p><img src="../assets/05-3.png" alt="" /></p>
<p>$$
E= {\textstyle \sum_{e=0}^{3}}E_e= {\textstyle \sum_{e=0}^{3}} (\frac{1}{2} k(||\mathbf{x} _iÂ âˆ’\mathbf{x}_eÂ ||âˆ’L_e)^2)
$$</p>
<p>$$
f_i=âˆ’\nabla_iE = \textstyle \sum_{e=0}^{3}(âˆ’k(||\mathbf{x}_iâˆ’\mathbf{x}_e||âˆ’L_e)\frac{\mathbf{x}_iâˆ’\mathbf{x}_e}{||\mathbf{x}_iâˆ’\mathbf{x}_e||})
$$</p>
<blockquote>
<p>âœ… èƒ½é‡å’ŒåŠ›éƒ½æ˜¯å¯ä»¥å åŠ çš„</p>
</blockquote>
<h2 id="ç§¯åˆ†ç³»ç»Ÿæ˜¾å¼ç§¯åˆ†"><a class="header" href="#ç§¯åˆ†ç³»ç»Ÿæ˜¾å¼ç§¯åˆ†">ç§¯åˆ†ç³»ç»Ÿâ€”â€”æ˜¾å¼ç§¯åˆ†</a></h2>
<p>P12<br />
ä¸ç²’å­ä»¿çœŸç›¸åŒã€‚æ¯ä¸ª Mesh é¡¶ç‚¹æ ¹æ®å—åŠ›æ›´æ–°ä½ç½®çš„è¿‡ç¨‹æ¶‰åŠç§¯åˆ†ã€‚ç§¯åˆ†ç¦»æ•£åŒ–ä¹Ÿå¯ä»¥æ˜¯æ˜¾å¼ã€éšå¼ã€åŠéšå¼ã€‚</p>
<p>Explicit integration suffers from <strong>numerical instability</strong> caused by <u>overshooting</U>, when the stiffness \(k\) and/or the time step \(âˆ†t\) is too large.</p>
<blockquote>
<p>âœ… Explicitï¼šå½“å‰åŠ› â†’ å½“å‰é€Ÿåº¦ â†’ å½“å‰ä½ç½®<br />
æ˜¾å¼ç§¯åˆ†ä¸ç¨³å®šï¼Œå¦‚æœ \(Î”t\) æˆ– \(k\) å¤ªå¤§ï¼Œä¼šå¯¼è‡´ overshootingã€‚</p>
</blockquote>
<p>A naive solution is to use a small \(âˆ†t\) . But that slows down the simulation.</p>
<blockquote>
<p>âœ… è§£å†³æ–¹æ³•ï¼šå‡å°\(\Delta t\)ã€‚ä½†è¿™ä¸ªæ–¹æ³•ä¸è§£å†³æœ¬è´¨é—®é¢˜ï¼Œä¸”ä¼šé™ä½æ•´ä¸ªæ¨¡æ‹Ÿç³»ç»Ÿçš„æ•ˆç‡<br />
âœ… æœ¬è´¨ä¸Šæ˜¯\(Î”t\)å¤ªå¤§å¯¼è‡´ç§¯åˆ†è¿‘ä¼¼çš„ç»“æœä¸å®é™…ç§¯åˆ†çš„ç»“æœæœ‰å¾ˆå¤§è¯¯å·®ï¼Œ\(k\)å¤ªå¤§æˆ–\(Î”t\)åªæ˜¯è®©è¿™ä¸ªé—®é¢˜æ›´æ˜æ˜¾ï¼Œå‡å°\(k\)æˆ–\(Î”t\)é—®é¢˜ä»ç„¶å­˜åœ¨ã€‚</p>
</blockquote>
<p>P13</p>
<h2 id="ç§¯åˆ†ç³»ç»Ÿéšå¼ç§¯åˆ†"><a class="header" href="#ç§¯åˆ†ç³»ç»Ÿéšå¼ç§¯åˆ†">ç§¯åˆ†ç³»ç»Ÿâ€”â€”éšå¼ç§¯åˆ†</a></h2>
<p>Implicit integration is a better solution to numerical instability.  The idea is to integrate both <strong>x</strong> and <strong>v</strong> implicitly.</p>
<blockquote>
<p>âœ… Explicitå’ŒImplicitéƒ½æ˜¯ç”¨æŸä¸ªæ—¶åˆ»çš„åŠ›ä»£è¡¨æ•´ä¸ª \(Î”t\) æ—¶é—´çš„åŠ›ï¼Œå°±éƒ½ä¼šå‡ºç°ä¸Šè¿°è¯¯å·®ã€‚<br />
âœ… åŒºåˆ«åœ¨äºï¼ŒExplicitç”¨å½“å‰åŠ›ï¼Œå¾€å¾€ä½¿ç»“æœå˜å¤§ï¼Œäº§ç”Ÿçˆ†ç‚¸ï¼ŒImplicitç”¨æœªæ¥åŠ›ï¼Œå¾€å¾€ä½¿ç»“æœå˜å°ï¼Œäº§ç”Ÿæ¶ˆå¤±ã€‚<br />
âœ… æ¶ˆå¤±åªæ˜¯ç»“æœä¸å¯¹ã€‚ä½†çˆ†ç‚¸ä¼šè®©ç»“æœå´©æºƒï¼Œè¿™æ˜¯æœ€ä¸å¯æ¥å—çš„é—®é¢˜ã€‚å› æ­¤ç”¨éšå¼ä»£æ›¿æ˜¾å¼ã€‚</p>
</blockquote>
<p>éšå¼ç§¯åˆ†ç›¸å¯¹ç¨³å®šï¼Œå¯ä»¥ä½¿ç”¨ç¨å¤§çš„ \(Î”t\)ï¼Œä½†ä¹Ÿå­˜åœ¨ä»¥ä¸‹é—®é¢˜ï¼š</p>
<ol>
<li>å®ç°å¤æ‚ï¼Œå› æ­¤éš¾ä»¥ä¼˜åŒ–ã€‚</li>
<li>æ¯ä¸ª \(Î”t\) çš„æ±‚è§£æ›´è€—æ—¶ï¼Œå› æ­¤ä¸ä¸€å®šä¼šæ›´å¿«ã€‚</li>
<li>å¯èƒ½å‡ºç°æ•°å€¼æŒ¯è¡ã€‚</li>
</ol>
<h3 id="äºŒå…ƒéçº¿æ€§æ–¹ç¨‹ç»„---ä¸€å…ƒéçº¿æ€§æ–¹ç¨‹"><a class="header" href="#äºŒå…ƒéçº¿æ€§æ–¹ç¨‹ç»„---ä¸€å…ƒéçº¿æ€§æ–¹ç¨‹">äºŒå…ƒéçº¿æ€§æ–¹ç¨‹ç»„ -&gt; ä¸€å…ƒéçº¿æ€§æ–¹ç¨‹</a></h3>
<p>éšå¼ç§¯åˆ†ç”¨æœªæ¥åŠ›è®¡ç®—æœªæ¥é€Ÿåº¦ï¼Œç”¨æœªæ¥é€Ÿåº¦è®¡ç®—æœªæ¥ä½ç½®ã€‚æœªæ¥åŠ›ï¼Œæœªæ¥é€Ÿåº¦ï¼Œæœªæ¥ä½ç½®éƒ½æ˜¯æœªçŸ¥é‡ï¼Œä¸èƒ½ç›´æ¥æ±‚è§£ï¼Œéœ€è¦è§£æ–¹ç¨‹ã€‚</p>
<blockquote>
<p>âœ… ç²’å­å’Œåˆšä½“çš„ä»¿çœŸä¸­ä½¿ç”¨äº†åŠéšå¼ç§¯åˆ†(ç°åœ¨çš„åŠ›ï¼Œæœªæ¥çš„é€Ÿåº¦)ã€‚</p>
</blockquote>
<p><img src="../assets/05-11.png" alt="" /></p>
<blockquote>
<p>âœ… è´¨ç‚¹çš„è´¨é‡å¯ä»¥ä¸åŒå—ï¼Ÿ<br />
ç­”ï¼šå¯ä»¥ä¸åŒã€‚å…ˆæ ¹æ®ä¸‰è§’å½¢çš„é¢ç§¯è®¡ç®—ä¸‰è§’çš„è´¨é‡ï¼Œå†æŠŠè´¨é‡åˆ†é…åˆ°å„ä¸ªé¡¶ç‚¹ä¸Šã€‚<br />
Mæ˜¯ä¸€ä¸ª3n*3nçš„å¯¹è§’çŸ©é˜µï¼Œå…·ä½“å½¢å¼ä¸ºï¼š</p>
</blockquote>
<p>$$
M = \begin{pmatrix}
m_1 I_3 &amp; 0 &amp; \cdots &amp; 0 \\
0 &amp; m_2 I_3 &amp; \cdots &amp; 0 \\
\vdots &amp; \vdots &amp; \ddots &amp; \vdots \\
0 &amp; 0 &amp; \cdots &amp; m_n I_3
\end{pmatrix}
$$</p>
<p>å‡è®¾Fæ˜¯ä¸€ä¸ªä¿å®ˆåŠ›ï¼Œå³Fæ˜¯åªä¸xæœ‰å…³çš„éçº¿æ€§å‡½æ•°ï¼Œé‚£ä¹ˆå…¬å¼ä¸­çš„f[1]ä¸æ˜¯ä¸€ä¸ªæ–°çš„æœªçŸ¥é‡ã€‚</p>
<blockquote>
<p>âœ… ä¿å®ˆåŠ› holonomicï¼šåŠ›çš„å¤§å°å’Œæ–¹å‘åªè·Ÿä½ç½®æœ‰å…³ï¼Œè·Ÿé€Ÿåº¦æ— å…³ã€‚ä¾‹å¦‚é‡åŠ›ï¼Œå¼¹åŠ›ã€‚é‚£ä¹ˆ \(f\)å¯ä»¥å†™æˆå…³äºä½ç½®çš„å‡½æ•°\(f(x)\)ã€‚ä½†\(f(x)\)ä¸ä¸€å®šæ˜¯çº¿æ€§çš„ã€‚</p>
</blockquote>
<p>å…¬å¼ 2 ä»£å…¥å…¬å¼ 1 å¹¶æ¶ˆå…ƒï¼Œå¾—ï¼š</p>
<p>$$
\mathbf{v} ^{[1]}=\mathbf{v}^{[0]}+âˆ†t\mathbf{M} ^{âˆ’1}\mathbf{f} (\mathbf{x}^{[0]}+âˆ†t\mathbf{v} ^{[1]})
$$</p>
<p>æˆ–æŠŠå…¬å¼1ä»£å…¥å…¬å¼2å¹¶æ¶ˆå…ƒï¼Œå¾—ï¼š</p>
<p>æ¶ˆå…ƒå¾—ï¼š<br />
$$
\mathbf{x} ^{[1]}=\mathbf{x} ^{[0]}+\Delta t\mathbf{v} ^{[0]}+\Delta t^2\mathbf{M} ^{-1}\mathbf{f}(x^{[1]})
$$</p>
<p>å¯¹xæˆ–væ¶ˆå…ƒï¼Œè§£æ³•éƒ½æ˜¯ç±»ä¼¼çš„ã€‚æœ€åéƒ½è½¬åŒ–ä¸ºè§£éçº¿æ€§æ–¹ç¨‹çš„é—®é¢˜ã€‚</p>
<h3 id="çº¿æ€§è¿‘ä¼¼æ³•æ±‚è§£ä¸€å…ƒéçº¿æ€§æ–¹ç¨‹-è§£çº¿æ€§ç³»ç»Ÿ"><a class="header" href="#çº¿æ€§è¿‘ä¼¼æ³•æ±‚è§£ä¸€å…ƒéçº¿æ€§æ–¹ç¨‹-è§£çº¿æ€§ç³»ç»Ÿ">çº¿æ€§è¿‘ä¼¼æ³•ï¼šæ±‚è§£ä¸€å…ƒéçº¿æ€§æ–¹ç¨‹-&gt;è§£çº¿æ€§ç³»ç»Ÿ</a></h3>
<blockquote>
<p>âœ… è¿‘ä¼¼æˆçº¿æ€§é—®é¢˜åç›´æ¥è§£æ–¹ç¨‹ã€‚è¿™ç§æ–¹æ³•ç›¸å½“äºæ¯ä¸€ä¸ªStepåšäº†ä¸€æ¬¡ç‰›é¡¿æ³•ã€‚</p>
</blockquote>
<p>ä»¥å¯¹xæ¶ˆå…ƒç»“æœä¸ºä¾‹ï¼Œ\(\mathbf{f}\) åœ¨ \(\mathbf{x}^{[0]}\) å¤„æ³°å‹’å±•å¼€ï¼Œå¾—ï¼š</p>
<p>$$ 
\mathbf{v} _{t+1}=\mathbf{v}_t+âˆ†t\mathbf{M} ^{âˆ’1}[\mathbf{f} (\mathbf{x}_t)+\frac{\partial \mathbf{f} }{\partial \mathbf{x} }(\mathbf{x} _t) âˆ†t\mathbf{v} _{t+1}] 
$$</p>
<p>æ•´ç†åå¾—:</p>
<p>$$
[\mathbf{I}-âˆ†t^2\mathbf{M} ^{âˆ’1}\frac{\partial \mathbf{f} }{\partial \mathbf{x} }(\mathbf{x} _t)  ]\mathbf{v} _{t+1}=\mathbf{v}_t+âˆ†t\mathbf{M} ^{âˆ’1}\mathbf{f} (\mathbf{x}_t)
$$</p>
<p>è¿™å°±æˆäº†ä¸€ä¸ªè§£çº¿æ€§ç³»ç»Ÿçš„é—®é¢˜ã€‚è§£çº¿æ€§ç³»ç»Ÿè§<a href="../Math/LinearSolver.html">Linear Solver</a></p>
<blockquote>
<p>é—®ï¼šä¸ºä»€ä¹ˆä¸ç›´æ¥æ±‚é€†ï¼Ÿ<br />
ç­”ï¼šæ±‚é€†å¤ªè´µ</p>
</blockquote>
<p>è¿™ä¸ªå…¬å¼å†æ³›åŒ–ä¸€ä¸‹ï¼Œå¼•å…¥ä¸€ä¸ªbetaï¼Œå°±å¯ä»¥æŠŠéšå¼ç§¯åˆ†ä¸ä¹‹å‰çš„æ˜¾å¼ç§¯åˆ†ã€ä¸­ç‚¹æ³•ç§¯åˆ†ç»Ÿä¸€èµ·æ¥ã€‚</p>
<p>$$
[\mathbf{I} -\beta \Delta t^2\mathbf{M} ^{-1}\frac{\partial \mathbf{f} }{\partial \mathbf{x} }(\mathbf{x} _t )]\mathbf{v} _{t+1}=\mathbf{v} _t+\Delta t\mathbf{M} ^{-1}\mathbf{f} (\mathbf{x} _t)
$$</p>
<p>â¶ \(\beta\) = 0: forward/semi-implicit Euler (explicit)<br />
â· \(\beta\) = 1/2: middle-point (implicit)<br />
â¸ \(\beta\) = 1: backward Euler (implicit)</p>
<h3 id="æ–¹æ³•äºŒæ±‚è§£ä¸€å…ƒéçº¿æ€§æ–¹ç¨‹-ä¼˜åŒ–é—®é¢˜"><a class="header" href="#æ–¹æ³•äºŒæ±‚è§£ä¸€å…ƒéçº¿æ€§æ–¹ç¨‹-ä¼˜åŒ–é—®é¢˜">æ–¹æ³•äºŒï¼šæ±‚è§£ä¸€å…ƒéçº¿æ€§æ–¹ç¨‹-&gt;ä¼˜åŒ–é—®é¢˜</a></h3>
<blockquote>
<p>âœ… è¯¾åç­”ç–‘ï¼š<br />
èƒ½é‡ä¼˜åŒ–çš„æ–¹æ³•å¾ˆå°‘ç”¨äºåˆšä½“ï¼Œä¸»è¦æ˜¯æœ‰é™å…ƒã€å¼¹æ€§ä½“ã€è¡£æœæ¨¡æ‹Ÿã€‚<br />
æ„é€ ä¼˜åŒ–ç›®æ ‡F(x)ï¼š</p>
</blockquote>
<p>$$
F(\mathbf{x}) = \frac{1}{2âˆ†t^2}||\mathbf{x} âˆ’\mathbf{x} ^{[0]}âˆ’âˆ†t\mathbf{v} ^{[0]}||_\mathbf{M}^2+E(\mathbf{x} )
$$</p>
<p>æœ‰ï¼š
$$
\mathbf{x} ^{[1]} = \argminÂ F(\mathbf{x})
$$</p>
<blockquote>
<p>âœ… å‰é¢æ–¹ç¨‹è§£\({x} ^{[1]}\)ç­‰ä»·äºF(x)å‡½æ•°æå°ç‚¹ã€‚ç­‰ä»·è½¬æ¢çš„æ¨å¯¼åœ¨<strong>è¡¥å……1</strong>ã€‚éçº¿æ€§æ–¹ç¨‹é—®é¢˜ä¸ºè½¬åŒ–ä¸ºä¼˜åŒ–é—®é¢˜ã€‚<br />
âœ… å…¶ä¸­ï¼š\(\mathbf{M}\)å¯¹è§’çŸ©é˜µï¼Œæè¿°è´¨é‡ï¼Œ\(3N \times 3N\)ã€‚\(\mathbf{x}\)ä¸º \(3N\times 1\)çŸ¢é‡,æè¿°é¡¶ç‚¹ä¿¡æ¯ã€‚\(E\) ä¸ºæ‰€æœ‰çš„åŠ›çš„èƒ½é‡ã€‚\(\mathbf{||x||_M^2=x^TMx} \)ã€‚<br />
âœ… åªæœ‰ä¿å®ˆåŠ›èƒ½ç”¨èƒ½é‡æè¿°ã€éä¿å®ˆåŠ›ï¼ˆä¾‹å¦‚æ‘©æ“¦åŠ›ï¼‰åˆ™ä¸è¡Œã€‚</p>
</blockquote>
<p>å®šä¹‰ \(\mathbf{g(x)} =\mathbf{x} ^{[0]}+\Delta t\mathbf{v}^{[0]}+\Delta t^2M^{-1}f(\mathbf{x}^{[1]})-\mathbf{x} ^{[1]}\)<br />
ä¹Ÿå¯ä»¥å¾—å‡ºï¼š\(x^{[1]}=\mathrm{argmin} (g(\mathbf{x} )^2)\) æˆ– \(\mathbf{x}^{[1]}=\mathrm{argmin} |\mathbf{g(x)}|\)</p>
<p>åªæ˜¯è¿™æ ·æ„é€ å‡ºçš„ä¼˜åŒ–é—®é¢˜ï¼Œæ±‚å¯¼æ¯”è¾ƒéš¾è®¡ç®—ã€‚</p>
<p>P18</p>
<h3 id="newtons-methodè§£ä¼˜åŒ–é—®é¢˜-è§£çº¿æ€§ç³»ç»Ÿ"><a class="header" href="#newtons-methodè§£ä¼˜åŒ–é—®é¢˜-è§£çº¿æ€§ç³»ç»Ÿ">Newtonâ€™s Methodï¼šè§£ä¼˜åŒ–é—®é¢˜-&gt;è§£çº¿æ€§ç³»ç»Ÿ</a></h3>
<blockquote>
<p>ğŸ” Newton-Raphson Methodè§è¡¥å……2. è¿™é‡Œç›´æ¥å¼€å§‹Newtonæ–¹å‘åœ¨æœ¬å½“å‰åœºæ™¯çš„åº”ç”¨ã€‚</p>
</blockquote>
<p>Specifically to simulation, we have:</p>
<p>$$
F (\mathbf{x} )=\frac{1}{2âˆ†t^2} ||\mathbf{x} âˆ’\mathbf{x} ^{[0]}âˆ’âˆ†t\mathbf{v} ^{[0]}||_\mathbf{M} ^2+\mathbf{E} (\mathbf{x} )
$$</p>
<p>$$
âˆ‡F(\mathbf{x}^{(k)})=\frac{1}{âˆ†t^2}\mathbf{M} (\mathbf{x} ^{(k)}âˆ’\mathbf{x} ^{[0]}âˆ’âˆ†t\mathbf{v} ^{[0]})âˆ’\mathbf{f}(\mathbf{x}^{(k)})=b
$$</p>
<p>$$
\frac{âˆ‚^2F (\mathbf{x} ^{(k)})}{âˆ‚\mathbf{x} ^2} =\frac{1}{âˆ†t^2} \mathbf{M} +\mathbf{H} (x^{(k)})=\mathbf{A}
$$</p>
<p>è§£çº¿æ€§ç³»ç»Ÿ \(A \Delta \mathbf{x} =b\)</p>
<p><img src="../assets/05-28.png" alt="" /></p>
<h3 id="positive-definiteness-of-hessian"><a class="header" href="#positive-definiteness-of-hessian">Positive Definiteness of Hessian</a></h3>
<p>ä¸ºäº†è®©ä¼˜åŒ–é—®é¢˜æ”¶æ•›ï¼Œæˆ‘ä»¬å¸Œæœ›Aæ˜¯æ­£å®šçš„ï¼Œå…·ä½“åŸå› è§è¡¥å……ææ–™ã€‚</p>
<p><img src="../assets/05-18.png" alt="" /></p>
<blockquote>
<p>âœ… è€ŒAçš„æ­£å®šæ€§å–å†³äº\(H(x)\) çš„æ­£å®šæ€§ã€‚
âœ… \(H(x)\)çš„ç»´åº¦æ˜¯\(3N \times 3N\)ï¼ŒN æ˜¯å¼¹ç°§æ•°ã€‚æ¯ä¸ª\(H_e\)çš„ç»´åº¦æ˜¯\(3 \times 3\)ã€‚å®ƒæ˜¯ç”±æ‰€æœ‰å¼¹ç°§çš„Hæ„æˆçš„ã€‚</p>
</blockquote>
<p><img src="../assets/05-17.png" alt="" /></p>
<blockquote>
<p>âœ… H(x)çš„æ­£å®šæ€§åˆ™æ˜¯ç”± \(H_e\) çš„æ­£å®šæ€§å†³å®šã€‚</p>
</blockquote>
<p>ä¸‹é¢åˆ†æ\(H_e\)çš„æ­£å®šæ€§ï¼š<br />
For any \(\mathbf{x} _{ij}, \mathbf{v} â‰ 0\),</p>
<p>$$
\mathbf{V}^\mathbf{T}\frac{{\mathbf{x} _{ij}\mathbf{x} _{ij}}^\mathbf{T} }{||\mathbf{x} _{ij}||^2}\mathbf{V}=||\frac{{\mathbf{x} _{ij}}^\mathbf{T} \mathbf{v} }{||\mathbf{x} _{ij}||}||^2&gt; 0
$$</p>
<p>$$
\mathbf{V} ^\mathbf{T} (\mathbf{I} -\frac{{\mathbf{x} _{ij}\mathbf{x} _{ij}}^\mathbf{T} }{||\mathbf{x} _{ij}||^2}) \mathbf{V} =\frac{||\mathbf{x} _{ij}||^2||\mathbf{v} ||^2-||{\mathbf{x} _{ij}}^\mathbf{T} \mathbf{v} ||^2}{||\mathbf{x} _{ij}||^2}\ge 0 
$$</p>
<blockquote>
<p>âœ… \( \mathbf{x}_ {ij}\) ä»£è¡¨é¡¶ç‚¹\( \mathbf{x}_ {i}\)å’Œé¡¶ç‚¹\( \mathbf{x}_ {j}\)çš„ä½ç½®çš„å·®ã€‚<br />
âœ… æœ€åä¸€ä¸ªå…¬å¼åˆ†å­æ»¡è¶³æŸ¯è¥¿ä¸ç­‰å¼<br />
âœ… ç»“è®ºï¼š\(||x_{ij}||&lt; Le\). ä»£è¡¨å¼¹ç°§å¤„äºå‹ç¼©çŠ¶æ€ã€‚æ­¤æ—¶ He æœ‰å¯èƒ½éæ­£å®š(å¯èƒ½æœ‰å¤šä¸ªæå°å€¼ç‚¹)ï¼Œä½†æ‹‰ä¼¸æ—¶ä¸€å®šæ­£å®šã€‚<br />
âœ… He æ­£å®šåˆ™\(H(x)\)åŠæ­£å®šï¼Œæ­¤æ—¶å¼¹ç°§ç³»ç»Ÿæœ‰å”¯ä¸€è§£ã€‚<br />
âœ… \(\Delta t\)è¶Šå°ï¼ŒAè¶Šå®¹æ˜“æ­£å®šã€å¼¹ç°§ç³»ç»Ÿè¶Šç¨³å®šã€‚<br />
âœ… ä½†æ˜¯Aä¸æ­£å®šï¼Œä¸ä»£è¡¨æ²¡æœ‰å”¯ä¸€è§£ã€‚</p>
</blockquote>
<p>P23</p>
<h3 id="enforcement-of-positive-definiteness"><a class="header" href="#enforcement-of-positive-definiteness">Enforcement of Positive Definiteness</a></h3>
<blockquote>
<p>âœ… ä¸æ­£å®šæœ€å¤§çš„é—®é¢˜ä¸æ˜¯è§£ä¸å”¯ä¸€ï¼Œå› ä¸ºè§£å‡ºä»»æ„ä¸€ä¸ªè§£éƒ½èƒ½è®©æ¨¡æ‹Ÿç³»ç»Ÿè¿›è¡Œä¸‹å»ã€‚<br />
âœ… éæ­£å®šçš„ä¸»è¦é—®é¢˜ï¼Œæ˜¯æ•°å­¦è®¡ç®—ä¸Šçš„ä¸ç¨³å®šï¼Œå¯èƒ½å¯¼è‡´è§£ä¸å‡ºæ¥ï¼› </p>
</blockquote>
<ul>
<li>One solution is to simply drop the ending term, when \({\color{Orange}{ ||\mathbf{x} _{ij}||&lt;\mathbf{L} _e}}:\)</li>
</ul>
<p><img src="./assets/05-20.png" alt="" /></p>
<blockquote>
<p>âœ… ç®€å•ç²—çˆ†çš„è§£å†³æ–¹æ³•å°±æ˜¯æŠŠåé¢è¿™é¡¹åˆ æ‰ã€‚</p>
</blockquote>
<blockquote>
<p>ğŸ” Choi and Ko. 2002. Stable But Responive Cloth. TOG (SIGGRAPH) --- å…¶å®ƒè®©Heæ­£å®šçš„æ–¹æ³•</p>
</blockquote>
<p>P27</p>
<h1 id="after-class-reading"><a class="header" href="#after-class-reading">After-Class Reading</a></h1>
<blockquote>
<p>ğŸ” Baraff and Witkin. 1998. Large Step in Cloth Simulation. SIGGRAPH.</p>
</blockquote>
<blockquote>
<p>âœ…è¿™ç¯‡è®ºæ–‡æ˜¯è¡£æœæ¨¡æ‹Ÿçš„ç»å…¸è®ºæ–‡ï¼Œç¬¬ä¸€ä¸ªç”¨éšå¼ç§¯åˆ†åšè¡£æœæ¨¡å‹çš„è®ºæ–‡ã€‚è®ºæ–‡æ²¡æœ‰ç”¨å¼¹ç°§ç³»ç»Ÿï¼Œè€Œæ˜¯å¦ä¸€å¥—æ¨¡å‹ã€‚<br />
âœ… å…³æ³¨å…¶ä¸­è§£éšå¼ç§¯åˆ†çš„éƒ¨åˆ†ï¼Œæ²¡æœ‰åšéçº¿æ€§ä¼˜åŒ–æˆ–è§£éçº¿æ€§æ–¹ç¨‹ï¼Œè€Œæ˜¯æŠŠéçº¿æ€§æ–¹ç¨‹çº¿æ€§åŒ–ï¼Œç­‰ä»·äºåšä¸€æ¬¡ç‰›é¡¿è¿­ä»£ã€‚<br />
ğŸ” Fast mass - spring system solver</p>
</blockquote>
<hr />
<blockquote>
<p>æœ¬æ–‡å‡ºè‡ªCaterpillarStudyGroupï¼Œè½¬è½½è¯·æ³¨æ˜å‡ºå¤„ã€‚</p>
<p>https://caterpillarstudygroup.github.io/GAMES103_mdbook/</p>
</blockquote>

                    </main>

                    <nav class="nav-wrapper" aria-label="Page navigation">
                        <!-- Mobile navigation buttons -->
                            <a rel="prev" href="../Elastic/Attribution.html" class="mobile-nav-chapters previous" title="Previous chapter" aria-label="Previous chapter" aria-keyshortcuts="Left">
                                <i class="fa fa-angle-left"></i>
                            </a>
                            <a rel="next" href="../5_cloth.html" class="mobile-nav-chapters next" title="Next chapter" aria-label="Next chapter" aria-keyshortcuts="Right">
                                <i class="fa fa-angle-right"></i>
                            </a>
                        <div style="clear: both"></div>
                    </nav>
                </div>
            </div>

            <nav class="nav-wide-wrapper" aria-label="Page navigation">
                    <a rel="prev" href="../Elastic/Attribution.html" class="nav-chapters previous" title="Previous chapter" aria-label="Previous chapter" aria-keyshortcuts="Left">
                        <i class="fa fa-angle-left"></i>
                    </a>
                    <a rel="next" href="../5_cloth.html" class="nav-chapters next" title="Next chapter" aria-label="Next chapter" aria-keyshortcuts="Right">
                        <i class="fa fa-angle-right"></i>
                    </a>
            </nav>

        </div>

        <script type="text/javascript">
            window.playground_copyable = true;
        </script>
        <script src="../elasticlunr.min.js" type="text/javascript" charset="utf-8"></script>
        <script src="../mark.min.js" type="text/javascript" charset="utf-8"></script>
        <script src="../searcher.js" type="text/javascript" charset="utf-8"></script>
        <script src="../clipboard.min.js" type="text/javascript" charset="utf-8"></script>
        <script src="../highlight.js" type="text/javascript" charset="utf-8"></script>
        <script src="../book.js" type="text/javascript" charset="utf-8"></script>

        <!-- Custom JS scripts -->
        <script type="text/javascript" src="../theme/pagetoc.js"></script>
        <script type="text/javascript" src="../theme/mermaid.min.js"></script>
        <script type="text/javascript" src="../theme/mermaid-init.js"></script>
    </body>
</html>
